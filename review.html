<!DOCTYPE html>
<html>
<head>
  <title>QTrail Review</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h3 { margin-top: 30px; }
    pre { background: #f4f4f4; padding: 10px; white-space: pre-wrap; word-wrap: break-word; }
  </style>
</head>
<body>
  <h2>Session Review</h2>
  <div id="output"></div>

  <script>
    const query = new URLSearchParams(window.location.search);
    const data = JSON.parse(decodeURIComponent(query.get("data")));

    const { name, urls, questions, answers } = data;
    const container = document.getElementById("output");

    if (name) {
      const h3 = document.createElement("h3");
      h3.textContent = name;
      container.appendChild(h3);
    }

    questions.forEach((q, i) => {
      const block = document.createElement("div");
      block.innerHTML = `<strong>Q${i + 1}:</strong> ${q}<br><strong>A${i + 1}:</strong> ${answers?.[i] || '(No answer provided)'}`;
      block.style.marginBottom = "20px";
      container.appendChild(block);
    });
  </script>
</body>
</html>
