<!DOCTYPE html>
<html>
<head>
  <title>QTrail Launch</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label, textarea, input, button { display: block; width: 100%; margin: 10px 0; font-size: 16px; }
    textarea { height: 80px; }
  </style>
</head>
<body>
  <h2>Create a Q&A Session</h2>

  <label>Session Name</label>
  <input id="name" type="text" placeholder="e.g. Review for Client A">

  <label>Sender Email (optional)</label>
  <input id="email" type="email" placeholder="e.g. yourname@example.com">

  <label>URLs (one per line)</label>
  <textarea id="urls" placeholder="https://example.com/page1&#10;https://example.com/page2"></textarea>

  <label>Questions (one per line)</label>
  <textarea id="questions" placeholder="What do you think about this page?&#10;What would you change?"></textarea>

  <button onclick="generate()">Generate Link</button>

  <div id="result" style="display:none;">
    <h3>Shareable Link</h3>
    <textarea id="output" readonly></textarea>
  </div>

  <script>
    function generate() {
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const urls = document.getElementById('urls').value.trim().split('\\n').filter(Boolean);
      const questions = document.getElementById('questions').value.trim().split('\\n').filter(Boolean);

      const payload = {
        name,
        urls,
        questions,
        senderEmail: email || null
      };

      const encoded = encodeURIComponent(JSON.stringify(payload));
      const link = window.location.origin + '/viewer.html?data=' + encoded;

      document.getElementById('output').value = link;
      document.getElementById('result').style.display = 'block';
    }
  </script>
</body>
</html>
